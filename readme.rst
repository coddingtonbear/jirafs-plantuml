Jirafs plantuml Macro
=====================

Automatically generate and include PlantUML diagrams in your Jira
comments or description updates.

This Jirafs plugin adds a macro allowing you to easily embed charts genearted from PlantUML's easy-to-use markup.

.. image:: http://coddingtonbear-public.s3.amazonaws.com/github/jirafs-plantuml/demo_v1.gif

and the comment posted will appear in Jira as:

.. image:: http://coddingtonbear-public.s3.amazonaws.com/github/jirafs-plantuml/demo_v1_jira.png

Quickstart
----------

Before getting started, you need to set the path to your ``plantuml.jar`` file::

   jirafs config --global --set plantuml.bin /path/to/plantuml.jar

Then, you can enter a digraph into your document by using the ``plantuml`` macro::

   <jirafs:plantuml>
      @startuml
      Alice -> Bob: Authentication Request
      Bob --> Alice: Authentication Response

      Alice -> Bob: Another authentication Request
      Alice <-- Bob: Another authentication Response
      @enduml
   </jirafs:plantuml>

or::

    <jirafs:plantuml src="name-of-digraph-file.plantuml" />

Upon submission to Jira, a file will automatically be generated, and your markup will be replaced with an embedded image showing your rendered graph.

Configuration
-------------

Before using this plugin, you will need to configure Jirafs to be aware of
where you've placed your ``plantuml.jar`` jar archive; you can do that
by running::

   jirafs config --global --set plantuml.bin /path/to/plantuml.jar

Options
-------

You can control the type and characteristics of the graph generated by specifying
any of the following attributes:

* `src`: Use the referenced file for your graph's contents.  Note that this
  cannot be specified if graph contents are specified directly in your
  tag's contents.

Installation
------------

1. Install from PIP::

    pip install jirafs-plantuml

2. Enable for a ticket folder::

    jirafs plugins --enable=plantuml

Note that you can globally enable this (or any) plugin by adding the
``--global`` flag to the above command::

    jirafs plugins --global --enable=plantuml

Requirements
------------

* PlantUML
